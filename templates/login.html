<!doctype html>
<html>
<head>
<title>login</title>
</head>
<body>
  <h1>tiny login demo</h1>
  <div>
      {% if g.user %}logged in: {{ g.user }} 
      <a href="{{ url_for('logout') }}">sign out [{{ g.user }}]</a>
      {% endif %}
  </div>
  {% with flashes = get_flashed_messages() %}
    {% if flashes %}
      <ul class=flashes>
      {% for message in flashes %}
        <li>{{ message }}
      {% endfor %}
      </ul>
    {% endif %}
  {% endwith %}
  <div class=body>
      <h2>Sign In</h2>
      {% if error %}<div class=error><strong>Error:</strong> {{ error }}</div>{% endif %}
      <form action="" method=post>
        <dl>
          <dt>Username:
          <dd><input type=text name=username size=30 value="{{ request.form.username }}">
          <dt>Password:
          <dd><input type=password name=password size=30>
        </dl>
        <div class=actions><input type=submit value="Sign In"></div>
      </form>
  </div>
</body>
</html>
